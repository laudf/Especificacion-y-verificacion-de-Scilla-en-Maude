
| false =>
              msg = {-tag: "" ;
                    -recipient: _sender ;
                    -amount: Uint128 0 ;
                    code : code_invalid_params} ;
              msgs = one_msg msg ;
              send msgs
          end
   
        
    | false =>
       msg = {-tag: "" ;
                -recipient: _sender ;
                -amount: Uint128 0 ;
                code : code_not_authorized} ;
       
        msgs = one_msg msg ;
        send msg

transition addBook (book_title : String , author : String , bookID : Uint32)
books <- bookInventory ;
bookExist = builtin contains books bookID ;
    match bookExist with
    | true =>
        msg = {-tag: "" ;
                    -recipient: _sender ;
                    -amount: Uint128 0 ;
                    code : code_bookid_exist} ;
        msgs = one_msg msg ;
        send msgs
    | false =>
        new_book = Pair {(String) (String)} book_title author ;
        bookInventory[bookID] := new_book ;

        tmp = Some {Uint32} bookID ;
        lastBookID := tmp ;

        msg = {-tag: "" ; 
                -recipient: _sender ; 
                -amount: Uint128 0 ; 
                code : code_success} ;

        msgs = one_msg msg ;
        send msgs 
    end

    
end

transition removeBook(book_id : Uint32)

    delete bookInventory[book_id]

end

transition updateBook(book_id : Uint32 , book_title : String , author : String)
   
    books <- bookInventory ;
    exist = builtin contains books book_id ;
    match exist with
    | false =>
        msg = {-tag: "" ; 
                -recipient: _sender ; 
                -amount: Uint128 0 ; 
                code : code_book_not_found} ;
        msgs = one_msg msg ;
        send msgs
    | true =>
        new_book = Pair {(String) (String)} book_title author ;
        bookInventory[book_id] := new_book ;

        msg = {-tag: "" ; 
                -recipient: _sender ; 
                -amount: Uint128 0 ; 
                code : code_success} ;
        msgs = one_msg msg ;
        send msgs
    end

   


end




